## Project Status: *Active*

# Application Name: **MillionHair's Pet Rescue**

`MillionHair's Pet Rescue` is a full MERN-stack website for a non-profit organization. A user can donate to the sites cause, view currently housed animals, and begin the adoption process.

# Installation

1. This application utilizes MongoDB. To start a mongo shell open a new terminal and enter this command:
```
mongod
```

2. Open another new terminal, navigate to the applications root directory: `jacob-robinson-thesis`

3. To install the `server dependencies` and `seed` the mongoDB enter this command in the terminal:

```
cd server; npm i; npm run seed
```

4. Once complete, install the `client dependencies` by entering this command into the same terminal:

```
cd ..; cd client; npm i
```

5. Once all the dependencies are installed and the database has been seeded. You are ready to start your servers and load the application. In the same terminal enter this command to start your `React server`: 

```
npm start
```

6. To start your `HTTP server`, open a new terminal, navigate to the applications root directory `jacob-robinson-thesis`, and enter this command:

```
cd server; npm start
```

7. Once you complete all these steps click here to navigate to the home page: [MillionHair's Pet Rescue](http://localhost:7778/)

# Usage

From the home page, a typical user can use the navigation links or the call to action buttons to access the donation and gallery pages. They may also navigate to the login or the sign up page from here.

On the donation page, users can read relevent donation information and fill out a form to make a monetary donation. Once the donation has been processed they can use the navigation links or the call to action buttons to visit other parts of the site.

The gallery page is where users can view all the animals currently up for adoption at the rescue center. Each animal has a corresponding details button and adopt button. Clicking on the details button will show them more information on the animal and the adopt button will send them to the adoption request page.

On the adoption request page, users can read the information on the adoption process and fill out the form to begin the process.

Logged in users have access to the account page which is a protected route on the site. From there they can update their account information, view their adoption request status', and their donation history.

Managers accounts are the only ones with full access to the site. The manager accounts can only be created by the administrator of the site. As a manager, you will have access to the managers page, which is a protected route. Managers can add new animals to the photo gallery, edit/delete current animals, view/edit all adoption requests, and view all the donations history.

# Roadmap
Because the managers page is a protected route and not made available to the public I decided not to focus on the responsiveness of the page. I envisioned the managers only accessing that page from the in-store computers. In the future I would like to update this page to be fully responsive at all screen widths. 

# Research and Explanation: JSON Web Token
I chose to implement JSON Web Token (JWT) in my project because I believe security is the most important aspect of web development. Consumers today expect the information they provide to be adequately protected which is why I integrated JWT into several features within the site including login/sign up authentication, route protection, and authorization levels. I also added bcrypt as an added layer of protection to the authentication process.

JSON Web Token is a stateless authentication mechanism in which sessions are tracked on the server rather than the client. 'Tokens' are typically generated by an RSA algorithm using a secret key and a users ID. The tokens are designed to be compact, url-safe and usable especially in web browser single sign-on (SSO) context. Once a token is created and sent to the client, they are then stored in either local storage, session storage, or as a cookie within the users browser. When the client requests information from a server's protected route, a check is made on the JWT received from the client to verify its authenticity before revealing any protected data.

When a user creates a MillionHair's account several things take place. Their password is encrypted using bcrypt's genSalt() method and their authorization level is set to user level before being saved to the database. The only way an account is granted a higher authorization level is through the admininstrator of the site. When a user logs in to an account their information is sent through a authentication route. That route verifies the password using bcrypt's compare() method, creates a JSON Web Token using the JWT's sign() method which is then set as a cookie to the users browser. This cookie is the most important part of the process because without it, site access is restricted. Finally, a user is logged in by setting some general information to the browsers session storage and updating data on the sites context provider.

A logged in user with the standard authorization level has access to an account page which features protected data relevent to the user. They can view their donation history, adoption requests, and update personal information. The route is protected and the page will only load if the JWT associated with the account is valid, otherwise they are redirected to an error handler page. I chose not to protect the donations or photo gallery pages because I wanted a visitor to the site to be able to view the animals up for adoption and also have the ability to donate to the cause without having to create an account or log in.

The next authorization level is store manager. An account with this level of access has the ability to view all donation histories, access adoption requests, and add, edit, and delete adoption animals. The only way this page is loaded is through the verification of a logged in account's JWT and authorization level. If either of these are invalid, a redirect is made to an error handler page detailing the reasons for the restricted access. All server calls on this page are protected with authentication and authorization. No information is sent to the client without first verifying the creditials of the account.

